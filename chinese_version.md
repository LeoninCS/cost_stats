**简体中文** | [English](./english_version.md)
# Code Stats - 终极代码统计工具

一个功能强大的命令行代码统计工具，用于深入分析代码库，提供详尽的行数统计、语言分类和项目健康度洞察。它能够智能识别多种编程语言，并生成清晰的格式化报告。

## ✨ 功能特点

*   **📊 全面的语言支持**：自动识别 **Go, Python, JavaScript/TypeScript, Java, C/C++, Ruby, Rust, PHP, Shell** 等 20+ 种编程语言和标记语言。
*   **🔍 智能文件过滤**：自动忽略版本控制目录（如 `.git`）、依赖项（如 `node_modules`, `vendor`）、编译输出、日志文件及二进制文件，专注于源代码分析。
*   **📈 实时进度显示**：在分析大型代码库时提供直观的进度条，清晰展示当前进度（调试模式下自动禁用）。
*   **🐛 详细调试模式**：通过 `-d` 参数启用，显示每个文件的分析过程和详细计数，便于调试和验证。
*   **📋 多维数据报告**：
    *   按编程语言分组的详细统计（文件数、总行数、空行、注释行、代码行）。
    *   项目摘要信息，包括**代码密度**、**注释率**和**平均文件大小**。
*   **🎨 友好的终端输出**：使用色彩高亮关键信息，输出清晰易读。在重定向到文件时自动禁用颜色。
*   **⚙️ 灵活的目标指定**：支持分析单个文件或整个目录。

## 🚀 安装与使用

### 直接使用
1.  将脚本保存为 `code_stats.sh`。
2.  赋予它可执行权限：
    ```bash
    chmod +x code_stats.sh
    ```
3.  运行脚本并指定目标。

### 使用方法
```bash
# 显示帮助信息
./code_stats.sh -h

# 分析当前目录
./code_stats.sh .

# 分析指定目录
./code_stats.sh /path/to/your/project

# 分析单个文件
./code_stats.sh src/main.go

# 启用调试模式分析项目（显示每个文件的处理详情）
./code_stats.sh /path/to/project -d
```

## 📖 输出示例

```
  ______          __          _____ __        __  
 / ____/___  ____/ /___       / ___// /_____ _/ /______
/ /   / __ \/ __  / _ \      \__ \/ __/ __ `/ __/ ___/
/ /___/ /_/ / /_/ /  __/     ___/ / /_/ /_/ / /_(__  ) 
\____/\____/\__,_/\___/     /____/\__/\__,_/\__/____/

       Ultimate Code Statistics Tool v3.1 (Keep Progress Bar)

=== 高级代码统计分析 ===
分析目标: /home/user/my-awesome-project
调试模式: 已启用

正在扫描文件...
扫描完成，找到 152 个文件准备分析。

[DEBUG] 分析: [Go] /home/user/my-awesome-project/main.go
[DEBUG]   -> 总行: 150, 空行: 20, 注释: 30, 代码: 100
...
--- 按语言统计 ---
语言             文件数       总行数        空行        注释          代码
--------------------------------------------------------------------------
Go                  42        5200        890        650         3660
JavaScript          35        3200        480        320         2400
Python              25        2800        420        350         2030
Markdown            10         600        120          0          480
Shell               15         800        150        100          550
YAML                 5         200         40         20          140
HTML                20        1800        300          0         1500
--------------------------------------------------------------------------
总计               152       14600       2400       1440        10760

--- 项目摘要信息 ---
代码密度 (代码行/总行数):    74%
注释率 (注释行/(代码+注释)): 12%
平均文件代码极数:            71 行

=== 代码统计分析完成 ===
```

## 🛠️ 支持的语言与注释符号

| 语言        | 常见扩展名                  | 注释符号 |
|------------|---------------------------|---------|
| Go         | `.go`                     | `//`    |
| Markdown   | `.md`                     | (N/A)   |
| Shell      | `.sh`, `.bash`, `.zsh`    | `#`     |
| YAML       | `.yml`, `.yaml`           | `#`     |
| Python     | `.py`                     | `#`     |
| C          | `.c`, `.h`                | `//`    |
| C++        | `.cpp`, `.hpp`, `.cxx`    | `//`    |
| Java       | `.java`                   | `//`    |
| JavaScript | `.js`, `.mjs`, `.jsx`     | `//`    |
| TypeScript | `.ts`, `.tsx`             | `//`    |
| HTML       | `.html`, `.htm`           | (N/A)   |
| CSS        | `.css`                    | (N/A)   |
| Ruby       | `.rb`                     | `#`     |
| Rust       | `.rs`                     | `//`    |
| PHP        | `.php`                    | `//`    |
| TOML       | `.toml`                   | `#`     |
| Dockerfile | `Dockerfile`              | `#`     |
| Makefile   | `Makefile`                | `#`     |

*注：标记语言（如 HTML, CSS, Markdown）通常没有传统意义上的注释，因此只统计空行和内容行。*

## 🔧 忽略规则

工具使用 `find` 命令进行扫描，并自动排除以下模式，以确保分析专注于源代码：

*   **版本控制与IDE配置**：`*/.git/*`, `*/.idea/*`, `*/.vscode/*`
*   **依赖项与包目录**：`*/node_modules/*`, `*/vendor/*`, `*/dist/*`, `*/build/*`, `*/target/*`
*   **日志与锁文件**：`*.log`, `*.lock`
*   **压缩与生产文件**：`*.min.*`
*   **图片资源**：`*.svg`, `*.png`, `*.jpg`
*   **二进制与可执行文件**：`*.so`, `*.dll`, `*.exe`, `*.bin`
*   **编辑器临时文件**：`*.swp`

## 📄 许可证

本项目基于 MIT 许可证开源。详见 LICENSE 文件。

---

